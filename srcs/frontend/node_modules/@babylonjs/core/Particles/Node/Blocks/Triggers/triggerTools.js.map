{"version":3,"file":"triggerTools.js","sourceRoot":"","sources":["../../../../../../../dev/core/src/Particles/Node/Blocks/Triggers/triggerTools.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,sBAAsB,EAAE,MAAM,8BAA8B,CAAC;AAGtE;;;GAGG;AACH,MAAM,UAAU,kBAAkB,CAAC,QAAqB,EAAE,KAAY,EAAE,QAAiB;IACrF,MAAM,QAAQ,GAAG,IAAI,sBAAsB,EAAE,CAAC;IAC9C,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,MAAM,KAAK,GAAG,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IAC9C,KAAK,CAAC,QAAQ,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,mCAAmC;IAChE,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,6CAA6C;IAC/E,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC,oCAAoC;IAChE,KAAK,CAAC,KAAK,EAAE,CAAC;IAEd,OAAO,KAAK,CAAC;AACjB,CAAC","sourcesContent":["import type { Scene } from \"core/scene\";\r\nimport type { Vector3 } from \"core/Maths/math.vector\";\r\nimport type { SystemBlock } from \"../systemBlock\";\r\nimport { NodeParticleBuildState } from \"../../nodeParticleBuildState\";\r\nimport type { ParticleSystem } from \"core/Particles/particleSystem\";\r\n\r\n/**\r\n * @internal\r\n * Tools for managing particle triggers and sub-emitter systems.\r\n */\r\nexport function _TriggerSubEmitter(template: SystemBlock, scene: Scene, location: Vector3): ParticleSystem {\r\n    const newState = new NodeParticleBuildState();\r\n    newState.scene = scene;\r\n    const clone = template.createSystem(newState);\r\n    clone.canStart = () => true; // Allow the cloned system to start\r\n    clone.emitter = location.clone(); // Set the emitter to the particle's position\r\n    clone.disposeOnStop = true; // Clean up the system when it stops\r\n    clone.start();\r\n\r\n    return clone;\r\n}\r\n"]}