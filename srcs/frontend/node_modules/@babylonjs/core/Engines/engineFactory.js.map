{"version":3,"file":"engineFactory.js","sourceRoot":"","sources":["../../../../dev/core/src/Engines/engineFactory.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAClC,OAAO,EAAE,UAAU,EAA0B,MAAM,cAAc,CAAC;AAClE,OAAO,EAAE,YAAY,EAA4B,MAAM,gBAAgB,CAAC;AAGxE;;GAEG;AACH,MAAM,OAAO,aAAa;IACtB;;;;;OAKG;IACI,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,MAAyB,EAAE,OAAiE;QACxH,MAAM,SAAS,GAAG,MAAM,YAAY,CAAC,gBAAgB,CAAC;QACtD,IAAI,SAAS,EAAE,CAAC;YACZ,OAAO,MAAM,YAAY,CAAC,WAAW,CAAC,MAAM,EAAE,OAA8B,CAAC,CAAC;QAClF,CAAC;QACD,IAAI,MAAM,CAAC,WAAW,EAAE,CAAC;YACrB,OAAO,IAAI,MAAM,CAAC,MAAM,EAAE,SAAS,EAAE,OAAwB,CAAC,CAAC;QACnE,CAAC;QACD,OAAO,IAAI,UAAU,CAAC,OAA4B,CAAC,CAAC;IACxD,CAAC;CACJ","sourcesContent":["import type { AbstractEngine } from \"./abstractEngine\";\r\nimport { Engine } from \"./engine\";\r\nimport { NullEngine, type NullEngineOptions } from \"./nullEngine\";\r\nimport { WebGPUEngine, type WebGPUEngineOptions } from \"./webgpuEngine\";\r\nimport type { EngineOptions } from \"./thinEngine\";\r\n\r\n/**\r\n * Helper class to create the best engine depending on the current hardware\r\n */\r\nexport class EngineFactory {\r\n    /**\r\n     * Creates an engine based on the capabilities of the underlying hardware\r\n     * @param canvas Defines the canvas to use to display the result\r\n     * @param options Defines the options passed to the engine to create the context dependencies\r\n     * @returns a promise that resolves with the created engine\r\n     */\r\n    public static async CreateAsync(canvas: HTMLCanvasElement, options?: WebGPUEngineOptions | EngineOptions | NullEngineOptions): Promise<AbstractEngine> {\r\n        const supported = await WebGPUEngine.IsSupportedAsync;\r\n        if (supported) {\r\n            return await WebGPUEngine.CreateAsync(canvas, options as WebGPUEngineOptions);\r\n        }\r\n        if (Engine.IsSupported) {\r\n            return new Engine(canvas, undefined, options as EngineOptions);\r\n        }\r\n        return new NullEngine(options as NullEngineOptions);\r\n    }\r\n}\r\n"]}